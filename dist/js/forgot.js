let submted=!1;function validate(e){let t=!1,o=[];function r(e,o){if(null==e.parentElement.querySelector(".error-msg")){let t="\n                position: absolute;\n                color: #fff;\n                font-size: 13px;\n                top: -12px;\n                right: -2px;\n                text-align: right;\n                background-color: #fc4e4e;\n                border-radius: 4px;\n                padding: 4px 8px;\n\t\t\t\tz-index: 3;\n            ";e.parentElement.insertAdjacentHTML("beforeend",`<span style="${t}" class='error-msg'>${o}</span>`)}t-=1}function n(e){null!=e.parentElement.querySelector(".error-msg")&&e.parentElement.querySelector(".error-msg").remove()}function a(e,t){return"en"==(document.cookie.split("; ").indexOf("language=en")>-1?"en":"pt")?e:t}return e.forEach((l,c)=>{switch(l.dataset.type){case"mail":o[c]=a("Insert an email","Insira um email"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.value)?(n(l),t++):r(l,o[c]);break;case"password":o[c]=a("Insert a password","Insira uma senha"),0==l.value.length?r(l,o[c]):n(l),t++;break;case"password-confirm":let s=a("Passwords dont match","Senhas não correspondem"),u=a("Insert a password","Insira uma senha");l.value.length>0?(o[c]=s,l.value!=e[1].value?(n(l),r(l,o[c]),console.log(o[c])):(n(l),t++)):(o[c]=u,n(l),r(l,o[c]))}}),t}let forgotForm=document.querySelectorAll(".forgot-form input"),canPaste=!1;document.querySelector("button.submit").addEventListener("click",function(){if(1==validate(forgotForm)){let e=new FormData;e.append("email",forgotForm[0].value),post(path+"/wp-admin/admin-ajax.php?action=forgot_password",e,function(t){"sucesso"==t?(document.querySelectorAll(".forgot-form > *").forEach(e=>{e.style.display="none",e.style.opacity=0}),document.querySelectorAll(".loading *, .loading").forEach(e=>{e.style.opacity="1",e.style.display="block"}),post(path+"/wp-admin/admin-ajax.php?action=forgot_password_mail",e,function(e){"erro"==e?popup("Error sending email","Erro ao enviar email"):(canPaste=!0,document.querySelector(".primary-title").style.opacity="1",document.querySelector(".primary-title").style.display="block",document.querySelectorAll(".forgot-form .reset-code")[1].focus(),document.querySelectorAll(".forgot-form .reset-code").forEach(e=>{e.removeAttribute("style")}),document.querySelectorAll(".forgot-form .reset-code").forEach(e=>{e.style.opacity="1",e.querySelector("input")&&(e.querySelector("input").style.opacity="1"),e.classList.add("active-code")}),document.querySelectorAll(".loading *, .loading").forEach(e=>{e.style.opacity="0",e.style.display="none"})),mailCountDown()})):popup("Email not found","Email não encontrado")})}}),forgotForm.forEach(e=>{e.addEventListener("keydown",function(t){"Enter"===t.key&&(t.preventDefault(),"usrwplgn"==e.id?document.querySelector(".forgot-form button").click():document.querySelector(".send-code-button").click())})}),document.body.addEventListener("paste",function(e){let t=(e.clipboardData||window.clipboardData).getData("text").trim(),o=0;if(canPaste&&t.length>=6){e.preventDefault();let r=[0,200,400,650,850,1100];for(let e=0;e<6;e++){let n=e+1;setTimeout(function(){document.querySelectorAll(".forgot-form .reset-code")[n].querySelector("input").focus();let r=new MouseEvent("mouseover",{bubbles:!0});document.querySelectorAll(".forgot-form .reset-code")[n].querySelector("input").dispatchEvent(r),document.querySelectorAll(".forgot-form .reset-code")[n].querySelector("input").value=t[e];let a=new KeyboardEvent("input",{key:t[e],bubbles:!0});document.querySelectorAll(".forgot-form .reset-code")[n].querySelector("input").dispatchEvent(a),document.querySelectorAll(".forgot-form .reset-code input").forEach(e=>{o+=e.value.length})},.6*r[e])}}});for(let e=0;e<6;e++){let t=e+1;document.querySelectorAll(".forgot-form .reset-code")[t].querySelector("input").addEventListener("input",o=>{let r=!1;if(e!=t&&"deleteContentBackward"==o.inputType){let e=document.querySelectorAll(".forgot-form .reset-code")[t].querySelector("input").parentElement.previousElementSibling.querySelector("input");null!=e&&e.focus()}"deleteContentBackward"!=o.inputType&&t<6&&document.querySelectorAll(".forgot-form .reset-code")[t].querySelector("input").parentElement.nextElementSibling.querySelector("input").focus(),document.querySelectorAll(".forgot-form .reset-code input").forEach(e=>{r+=e.value.length}),r>=6?document.querySelector("button.reset-code").removeAttribute("disabled"):document.querySelector("button.reset-code").setAttribute("disabled",!0)})}function mailCountDown(){let e=50,t=setInterval(function(){null!=document.querySelector(".countdown")&&(e<=0?(document.querySelector(".countdown").innerHTML="",document.querySelector(".countdown").nextElementSibling.removeAttribute("disabled")):(e--,document.querySelector(".countdown").innerHTML=lang(`Wait ${e} seconds to try again`,`Aguarde ${e} segundos para tentar novamente`))),null==document.querySelector(".countdown")&&clearInterval(t)},1e3);document.querySelector(".resend-trigger").addEventListener("click",function(){document.querySelectorAll('[name*="reset-code-"]').forEach(function(e){e.value=""});const t=this,o=this.innerHTML;this.innerHTML=lang("Sending...","Enviando...");let r=new FormData;r.append("email",forgotForm[0].value),post(path+"/wp-admin/admin-ajax.php?action=forgot_password",r,function(n){post(path+"/wp-admin/admin-ajax.php?action=forgot_password_mail",r,function(r){"erro"==r?popup("Error sending email","Erro ao enviar email"):(t.innerHTML=lang("Mail Sent","Email enviado"),setTimeout(function(){t.innerHTML=o,t.setAttribute("disabled",!0),e=50,document.querySelector(".countdown").innerHTML=lang(`Wait ${e} seconds to try again`,`Aguarde ${e} segundos para tentar novamente`)},3e3))})})})}function validate(e){let t=!1,o=[];function r(e,o){if(null==e.parentElement.querySelector(".error-msg")){let t="\n                position: absolute;\n                color: #fff;\n                font-size: 13px;\n                top: -12px;\n                right: -2px;\n                text-align: right;\n                background-color: #fc4e4e;\n                border-radius: 4px;\n                padding: 4px 8px;\n\t\t\t\tz-index: 3;\n            ";e.parentElement.insertAdjacentHTML("beforeend",`<span style="${t}" class='error-msg'>${o}</span>`)}t-=1}function n(e){null!=e.parentElement.querySelector(".error-msg")&&e.parentElement.querySelector(".error-msg").remove()}function a(e,t){return"en"==(document.cookie.split("; ").indexOf("language=en")>-1?"en":"pt")?e:t}return e.forEach((l,c)=>{switch(l.dataset.type){case"mail":o[c]=a("Insert an email","Insira um email"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.value)?(n(l),t++):r(l,o[c]);break;case"password":o[c]=a("Insert a password","Insira uma senha"),0==l.value.length?r(l,o[c]):n(l),t++;break;case"password-confirm":let s=a("Passwords dont match","Senhas não correspondem"),u=a("Insert a password","Insira uma senha");l.value.length>0?(o[c]=s,l.value!=e[1].value?(n(l),r(l,o[c]),console.log(o[c])):(n(l),t++)):(o[c]=u,n(l),r(l,o[c]))}}),t}function checkpassword(e){let t={},o=0,r=!1,n=document.querySelectorAll(".password-specifications li");switch(e.match(/[a-z]+/)&&(o+=1),e.match(/[A-Z]+/)?(o+=1,n[0].classList.add("passed")):n[0].classList.remove("passed"),e.match(/[0-9]+/)?(o+=1,n[1].classList.add("passed")):n[1].classList.remove("passed"),e.match(/[$@#&!]+/)?(o+=1,n[2].classList.add("passed")):n[2].classList.remove("passed"),e.length>=8?(r=!0,n[3].classList.add("passed")):(r=!1,n[3].classList.remove("passed")),r&&(o+=1),o>=5&&r?setTimeout(function(){document.querySelector("#password-strength").style.transition="opacity .3s ease-in-out",document.querySelector("#password-strength").style.opacity=0,setTimeout(function(){n[0].parentElement.classList.remove("pass-typing")},150),setTimeout(function(){document.querySelector("#password-strength").removeAttribute("style"),document.querySelector("#password-strength").style.display="none"},400)},200):setTimeout(function(){document.querySelector("#password-strength").style.display="block",n[0].parentElement.classList.add("pass-typing")},320),o){case 0:document.querySelector("#password-strength").className="maximumweak";break;case 1:t.value=10,document.querySelector("#password-strength").className="veryweak";break;case 2:t.value=25,document.querySelector("#password-strength").className="weak";break;case 3:t.value=50,document.querySelector("#password-strength").className="medium";break;case 4:t.value=75,document.querySelector("#password-strength").className="strong";break;case 5:t.value=100,document.querySelector("#password-strength").className="verystrong"}return t.value}document.querySelector(".send-code-button").addEventListener("click",function(){let e=forgotForm[1].value+forgotForm[2].value+forgotForm[3].value+forgotForm[4].value+forgotForm[5].value+forgotForm[6].value,t=new FormData;t.append("email",forgotForm[0].value),t.append("code",e),post(path+"/wp-admin/admin-ajax.php?action=verify_reset_code",t,function(e){if("erro"==e)popup("Invalid code","Código inválido");else{document.querySelector('input[name="email"]').value=forgotForm[0].value,document.querySelector(".forgot-form").outerHTML="",document.querySelector(".pwd-content").style.display="block";let e=!1;canPaste=!1,document.querySelector(".change-pwd-trigger").addEventListener("click",function(){e=!0,checkPwd=validate(document.querySelectorAll(".pwd-content.wrapper-form input")),checkPwd>=2&&(t.append("password",document.querySelectorAll(".pwd-content.wrapper-form input")[1].value),post(path+"/wp-admin/admin-ajax.php?action=change_password",t,function(e){"erro"==e?popup("Error changing password","Erro ao alterar senha"):(popup("Password changed","Senha alterada"),document.querySelector(".popup .close").addEventListener("click",function(){window.location.href=path+"?login=true"}))}))}),document.querySelectorAll(".pwd-content.wrapper-form input").forEach(function(t){t.addEventListener("input",function(t){e&&validate(document.querySelectorAll(".pwd-content.wrapper-form input"))}),t.addEventListener("keydown",function(e){"Enter"===e.key&&(e.preventDefault(),null!=document.querySelector(".login-form button")?document.querySelector(".login-form button").click():document.querySelector(".pwd-content button.submit").click())})})}})}),submted=!1;